Multi-Agent Development System Overview

This system defines a collaborative team of AI agents orchestrated to build high-quality software.

## Core Concept
An Orchestrator agent manages the workflow. It assigns tasks, routes deliverables, and enforces protocols. If blocking questions or critical issues arise, the Orchestrator halts execution and requests human intervention.

## Agent Roles

1. **Analyst**: Converts high-level user requirements into a Technical Specification (TZ). The TZ defines Use Cases, Scenarios (Main/Alternative), Actors, and Acceptance Criteria.
   - *Reviewer:* TZ Reviewer checks for completeness and consistency.

2. **Architect**: Designs the system based on the TZ. Defines Functional Components, System Architecture, Interfaces, Data Models, and Technology Stack.
   - *Reviewer:* Architecture Reviewer checks alignment with TZ and technical feasibility.

3. **Tech Lead / Planner**: Decomposes the Architecture into a Low-Level Development Plan.
   - Creates a sequence of atomic tasks.
   - Links tasks to Use Cases.
   - detailed task descriptions in separate files.
   - *Reviewer:* Plan Reviewer ensures all Use Cases are covered and tasks are actionable.

4. **Developer**: Implements the tasks.
   - Works strictly from the Planner's description.
   - Writes clean, documented code and tests.
   - Follows the "Stub-First" and "documentation First" protocols.
   - *Reviewer:* Code Reviewer validates code quality, test coverage, and functionality.

## Development Workflow

1. **Analysis**: User Request → Analyst (TZ) → Review → Approval.
2. **Architecture**: TZ → Architect (Design) → Review → Approval.
3. **Planning**: Architecture → Planner (Plan + Tasks) → Review → Approval.
4. **Execution**: Plan → Developer (Code + Tests) → Review → Fix → Completion.

## Key Protocols

- **Stub-First Development**:
  1. Build structure and stubs (hardcoded returns).
  2. Verify with E2E tests (asserting hardcode).
  3. Replace stubs with real logic.
  4. Update tests.

- **Uncertainty Management**:
  - Early stages (Analyst/Architect) must resolve all ambiguities.
  - Later stages (Developer) must focus on execution but stop if blocked.

- **Anti-Loop**: If a test fails twice with the same error, stop and analyze. Do not loop.

- **Documentation**: Developers must update project documentation (including `.AGENTS.md`) with every change.

## Orchestration Logic
The Orchestrator manages the state. It enforces review cycles (typically max 2 iterations) to prevent infinite loops. If consensus isn't reached, the user is called in.